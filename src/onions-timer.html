<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Onions Timer</title>
  <link rel="stylesheet" href="onion-timer.css" />
  <link href="https://fonts.googleapis.com/css2?family=Anek+Kannada&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Berkshire+Swash&display=swap" rel="stylesheet">

</head>
<body>
  <div class="top-bar">
    <div class="top-bar-title">The Perfect Biryani</div>
    <div class="top-bar-controls">
      <img src="assets/homelogo.png" class="window-btn" id="homeBtn" />
      <img src="assets/minilogo.png" class="window-btn" id="minimizeBtn" />
      <img src="assets/closelogo.png" class="window-btn" id="closeBtn" />
    </div>
  </div>

  <div class="content">
    <h1>Crispy perfect onions in</h1>

    <h2 id="countdown">15:00</h2>
    
  </div>
  <div class="stir-note">Stir Occasionally</div>


  <script>
    const duration = 15 * 60;
    let remaining = duration;

    const countdown = document.getElementById('countdown');
    function format(seconds) {
      const m = Math.floor(seconds / 60);
      const s = seconds % 60;
      return `${m}:${s.toString().padStart(2, '0')}`;
    }

    countdown.textContent = format(remaining);

    const interval = setInterval(() => {
      remaining--;
      countdown.textContent = format(remaining);
      if (remaining <= 0) {
        clearInterval(interval);
        window.location.href = 'done.html';
      }
    }, 1000);

   

    // Top bar button handlers
    document.getElementById('homeBtn').addEventListener('click', () => {
      window.location.href = 'home.html';
    });
    document.getElementById('minimizeBtn').addEventListener('click', () => {
      window.electronAPI.minimize();
    });
    document.getElementById('closeBtn').addEventListener('click', () => {
      window.electronAPI.close();
    });
  </script>
</body>
</html>
